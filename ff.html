<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HCI E-Commerce Suite</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
  /* --- 1. GLOBAL VARIABLES & RESET (Consistency) --- */
  :root {
    --primary: #2563eb;
    --dark: #1e293b;
    --light: #f8fafc;
    --success: #10b981;
    --danger: #ef4444;
    --text: #334155;
    --border: #e2e8f0;
    --radius: 8px;
    --shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: -apple-system, system-ui, sans-serif; color: var(--text); background: var(--light); padding-top: 70px; display: flex; flex-direction: column; min-height: 100vh; }

  /* --- 2. NAVIGATION (Fitts' Law & Memory) --- */
  /* Fixed top nav reduces memory load - user always knows where to go. */
  .navbar {
    position: fixed; top: 0; width: 100%; background: white; z-index: 1000;
    padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  }
  .logo { font-weight: 800; font-size: 1.5rem; color: var(--dark); cursor: pointer; text-decoration: none; }
  .nav-links a { margin-left: 20px; text-decoration: none; color: var(--text); font-weight: 500; cursor: pointer; }
  .nav-links a:hover { color: var(--primary); }
  
  .cart-btn { position: relative; cursor: pointer; font-size: 1.2rem; }
  .badge {
    position: absolute; top: -8px; right: -8px; background: var(--danger); color: white;
    font-size: 0.7rem; padding: 2px 6px; border-radius: 10px; font-weight: bold;
    transition: transform 0.2s;
  }

  /* --- 3. LAYOUT UTILITIES --- */
  .container { max-width: 1200px; margin: 0 auto; padding: 2rem; flex: 1; }
  .view { display: none; animation: fadeIn 0.3s ease; }
  .view.active { display: block; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

  /* --- 4. COMPONENTS --- */
  
  /* Buttons: Large hit areas */
  .btn {
    padding: 0.8rem 1.5rem; border: none; border-radius: var(--radius); cursor: pointer;
    font-weight: 600; transition: 0.2s; display: inline-flex; align-items: center; gap: 8px;
  }
  .btn-primary { background: var(--primary); color: white; }
  .btn-primary:hover { background: #1d4ed8; transform: translateY(-1px); }
  .btn-outline { background: transparent; border: 2px solid var(--border); }
  .btn-block { width: 100%; justify-content: center; }

  /* Product Cards: Elevation for affordance */
  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 2rem; }
  .card {
    background: white; border-radius: var(--radius); overflow: hidden;
    box-shadow: var(--shadow); transition: transform 0.2s; cursor: pointer;
    border: 1px solid transparent;
  }
  .card:hover { transform: translateY(-5px); border-color: var(--primary); }
  .card img { width: 100%; height: 200px; object-fit: cover; background: #eee; }
  .card-body { padding: 1rem; }
  .price { font-size: 1.25rem; font-weight: 700; color: var(--dark); }

  /* Checkout Form: Chunking & Validation */
  .checkout-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; }
  .form-group { margin-bottom: 1rem; }
  .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
  .form-control {
    width: 100%; padding: 0.8rem; border: 1px solid var(--border);
    border-radius: var(--radius); font-size: 1rem;
  }
  .form-control:focus { outline: 2px solid var(--primary); border-color: transparent; }
  
  /* Toast Notification */
  .toast {
    position: fixed; bottom: 20px; right: 20px; background: var(--dark); color: white;
    padding: 1rem 2rem; border-radius: var(--radius); transform: translateY(100px);
    transition: transform 0.3s; z-index: 2000; box-shadow: 0 10px 15px rgba(0,0,0,0.2);
  }
  .toast.show { transform: translateY(0); }

  footer { background: white; padding: 2rem; text-align: center; margin-top: auto; border-top: 1px solid var(--border); }

  /* Breadcrumbs */
  .breadcrumbs { color: #64748b; margin-bottom: 1rem; font-size: 0.9rem; }
  .breadcrumbs span { cursor: pointer; }
  .breadcrumbs span:hover { text-decoration: underline; }
</style>
</head>
<body>

<nav class="navbar">
  <a onclick="router('home')" class="logo">ShopHCI</a>
  <div class="nav-links">
    <a onclick="router('home')">Home</a>
    <a onclick="router('products')">Shop</a>
    <span class="cart-btn" onclick="router('cart')">
      <i class="fas fa-shopping-cart"></i>
      <span class="badge" id="cart-count">0</span>
    </span>
  </div>
</nav>

<main class="container">

  <section id="home" class="view active">
    <div style="background: white; padding: 4rem; border-radius: 12px; text-align: center; margin-bottom: 2rem;">
      <h1 style="font-size: 2.5rem; margin-bottom: 1rem;">Curated for Clarity.</h1>
      <p style="color: #64748b; margin-bottom: 2rem;">An e-commerce experience designed for human psychology.</p>
      <button class="btn btn-primary" onclick="router('products')">Start Shopping <i class="fas fa-arrow-right"></i></button>
    </div>
    <h3>Featured Collections</h3>
    <div class="grid" style="margin-top: 1rem;">
      <div class="card" onclick="router('products')"><div style="height:150px; background:#e2e8f0;"></div><div class="card-body"><b>New Arrivals</b></div></div>
      <div class="card" onclick="router('products')"><div style="height:150px; background:#e2e8f0;"></div><div class="card-body"><b>Best Sellers</b></div></div>
      <div class="card" onclick="router('products')"><div style="height:150px; background:#e2e8f0;"></div><div class="card-body"><b>On Sale</b></div></div>
    </div>
  </section>

  <section id="products" class="view">
    <div class="breadcrumbs"><span onclick="router('home')">Home</span> / Shop</div>
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
      <h2>All Products</h2>
      <select class="form-control" style="width: auto;">
        <option>Sort by: Recommended</option>
        <option>Price: Low to High</option>
      </select>
    </div>
    <div class="grid" id="product-grid">
      </div>
  </section>

  <section id="details" class="view">
    <div class="breadcrumbs"><span onclick="router('home')">Home</span> / <span onclick="router('products')">Shop</span> / Details</div>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;">
      <div style="background: #eee; height: 400px; border-radius: 12px;"></div>
      <div>
        <h1 id="detail-title">Product Title</h1>
        <div style="color: #f59e0b; margin: 0.5rem 0;">
          <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> (120 reviews)
        </div>
        <div class="price" id="detail-price" style="font-size: 2rem; margin: 1rem 0;">$0.00</div>
        <p style="line-height: 1.6; color: #64748b; margin-bottom: 2rem;">
          Ergonomically designed for maximum comfort. This product features premium materials and a 2-year warranty. 
          </p>
        <button class="btn btn-primary btn-block" onclick="addToCart()">Add to Cart</button>
        <div style="margin-top: 1rem; font-size: 0.9rem; color: #64748b;">
          <i class="fas fa-truck"></i> Free Shipping &nbsp;&nbsp; <i class="fas fa-undo"></i> 30-Day Returns
        </div>
      </div>
    </div>
  </section>

  <section id="cart" class="view">
    <h2>Your Cart</h2>
    <div class="checkout-grid" style="margin-top: 2rem;">
      <div id="cart-items">
        <div style="padding: 2rem; text-align: center; background: white; border-radius: 8px;">Your cart is empty.</div>
      </div>
      <div style="background: white; padding: 1.5rem; border-radius: 8px; height: fit-content; box-shadow: var(--shadow);">
        <h3>Summary</h3>
        <div style="display: flex; justify-content: space-between; margin: 1rem 0;">
          <span>Subtotal</span>
          <span id="cart-total">$0.00</span>
        </div>
        <button class="btn btn-primary btn-block" onclick="router('checkout')">Proceed to Checkout</button>
      </div>
    </div>
  </section>

  <section id="checkout" class="view">
    
    <div class="breadcrumbs" style="margin-bottom: 2rem;">Cart > <b>Shipping</b> > Payment > Review</div>
    
    <div class="checkout-grid">
      <form onsubmit="event.preventDefault(); alert('Order Placed!');">
        <div style="background: white; padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
          <h3 style="margin-bottom: 1.5rem;">Shipping Information</h3>
          <div class="grid" style="gap: 1rem; grid-template-columns: 1fr 1fr;">
            <div class="form-group"><label>First Name</label><input class="form-control" required></div>
            <div class="form-group"><label>Last Name</label><input class="form-control" required></div>
          </div>
          <div class="form-group"><label>Address</label><input class="form-control" required></div>
        </div>

        <div style="background: white; padding: 2rem; border-radius: 12px;">
          <h3 style="margin-bottom: 1.5rem;">Payment Details</h3>
          <div class="form-group">
            <label>Card Number</label>
            <input type="text" class="form-control" id="cc-input" placeholder="0000 0000 0000 0000" maxlength="19">
          </div>
          <div class="grid" style="gap: 1rem; grid-template-columns: 1fr 1fr;">
            <div class="form-group"><label>Expiry</label><input class="form-control" placeholder="MM/YY"></div>
            <div class="form-group"><label>CVC</label><input class="form-control" placeholder="123"></div>
          </div>
          <button class="btn btn-primary btn-block" style="margin-top: 1rem;">Pay Now</button>
        </div>
      </form>

      <div style="background: #f1f5f9; padding: 1.5rem; border-radius: 8px; height: fit-content;">
        <h4>Order Summary</h4>
        <p style="margin-top: 1rem;">Items: <span style="float:right">$120.00</span></p>
        <p>Shipping: <span style="float:right">Free</span></p>
        <hr style="margin: 1rem 0; border: 0; border-top: 1px solid #cbd5e1;">
        <h3>Total: <span style="float:right">$120.00</span></h3>
      </div>
    </div>
  </section>

</main>

<footer>
  <p>&copy; 2024 ShopHCI. Designed for Usability.</p>
</footer>

<div id="toast" class="toast">Added to cart successfully!</div>

<script>
  // --- MOCK DATA ---
  const products = [
    { id: 1, name: "ErgoChair Pro", price: 299, img: "chair" },
    { id: 2, name: "Mechanical Keychron", price: 120, img: "keyboard" },
    { id: 3, name: "Noise Cancel Buds", price: 199, img: "buds" },
    { id: 4, name: "4K Monitor 27\"", price: 350, img: "monitor" }
  ];

  let cart = [];

  // --- ROUTER SYSTEM ---
  function router(viewId) {
    // Hide all views
    document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
    // Show target view
    document.getElementById(viewId).classList.add('active');
    // Scroll top (HCI: Reset context)
    window.scrollTo(0, 0);
  }

  // --- RENDER PRODUCTS ---
  const grid = document.getElementById('product-grid');
  products.forEach(p => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div style="height:200px; background:#e2e8f0; display:flex; align-items:center; justify-content:center; color:#94a3b8;">${p.name} Img</div>
      <div class="card-body">
        <h4>${p.name}</h4>
        <div class="price">$${p.price}</div>
        <button class="btn btn-outline" style="width:100%; margin-top:10px;">View Details</button>
      </div>
    `;
    card.onclick = () => showDetails(p);
    grid.appendChild(card);
  });

  // --- SHOW DETAILS ---
  function showDetails(product) {
    document.getElementById('detail-title').innerText = product.name;
    document.getElementById('detail-price').innerText = '$' + product.price;
    router('details');
  }

  // --- CART LOGIC & FEEDBACK ---
  function addToCart() {
    cart.push({ name: "Demo Product", price: 120 });
    updateCartUI();
    
    // HCI: Toast Notification (Visual Feedback)
    const toast = document.getElementById('toast');
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 3000);
  }

  function updateCartUI() {
    document.getElementById('cart-count').innerText = cart.length;
    // Simple logic to populate cart page
    const cartItems = document.getElementById('cart-items');
    if(cart.length > 0) {
      cartItems.innerHTML = cart.map(item => `
        <div style="background:white; padding:1rem; margin-bottom:1rem; border-radius:8px; display:flex; justify-content:space-between; align-items:center;">
          <div><b>${item.name}</b><br><small style="color:#64748b">In Stock</small></div>
          <div class="price">$${item.price}</div>
        </div>
      `).join('');
      document.getElementById('cart-total').innerText = '$' + (cart.length * 120);
    }
  }

  // --- CHECKOUT INPUT MASKING (HCI: Error Prevention) ---
  // Automatically spaces credit card numbers as user types
  document.getElementById('cc-input').addEventListener('input', function (e) {
    e.target.value = e.target.value.replace(/[^\d]/g, '').replace(/(.{4})/g, '$1 ').trim();
  });
</script>

</body>
</html>